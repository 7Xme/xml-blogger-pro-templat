<!DOCTYPE html>
<html dir="ltr" dir="ltr" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Picker & Palette Generator</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .color-picker-section {
            margin-bottom: 40px;
            text-align: center;
        }
        .color-display {
            width: 200px;
            height: 200px;
            border-radius: 10px;
            border: 2px solid #ddd;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }
        .color-values {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .value-group {
            text-align: center;
        }
        .value-label {
            font-weight: 600;
            color: #555;
            margin-bottom: 5px;
        }
        .value-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: monospace;
            text-align: center;
        }
        .palette-section {
            margin-bottom: 40px;
        }
        .palette-controls {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            align-items: center;
        }
        label {
            font-weight: 600;
            color: #555;
        }
        select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button {
            background: #dc143c;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        button:hover {
            background: #b22222;
            transform: scale(1.05);
        }
        .generate-btn {
            background: #28a745;
        }
        .generate-btn:hover {
            background: #218838;
        }
        .export-btn {
            background: #007bff;
        }
        .export-btn:hover {
            background: #0056b3;
        }
        .palette-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        .color-swatch {
            border-radius: 10px;
            height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 10px;
            color: white;
            font-size: 12px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        .color-swatch:hover {
            transform: scale(1.05);
        }
        .swatch-hex {
            font-weight: bold;
        }
        .swatch-name {
            font-size: 10px;
        }
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            .color-display {
                width: 150px;
                height: 150px;
            }
            .color-values {
                grid-template-columns: 1fr;
            }
            .palette-controls {
                flex-direction: column;
                align-items: stretch;
            }
            .palette-display {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Color Picker & Palette Generator</h1>

        <div class="color-picker-section">
            <h2>Color Picker</h2>
            <input type="color" id="colorPicker" value="#ff0000">
            <div class="color-display" id="colorDisplay">#ff0000</div>
            <div class="color-values">
                <div class="value-group">
                    <div class="value-label">HEX</div>
                    <input type="text" class="value-input" id="hexValue" readonly>
                </div>
                <div class="value-group">
                    <div class="value-label">RGB</div>
                    <input type="text" class="value-input" id="rgbValue" readonly>
                </div>
                <div class="value-group">
                    <div class="value-label">HSL</div>
                    <input type="text" class="value-input" id="hslValue" readonly>
                </div>
            </div>
        </div>

        <div class="palette-section">
            <h2>Palette Generator</h2>
            <div class="palette-controls">
                <div>
                    <label for="paletteType">Palette Type:</label>
                    <select id="paletteType">
                        <option value="complementary">Complementary</option>
                        <option value="analogous">Analogous</option>
                        <option value="triadic">Triadic</option>
                        <option value="tetradic">Tetradic</option>
                        <option value="monochromatic">Monochromatic</option>
                    </select>
                </div>
                <button class="generate-btn" id="generateBtn">Generate Palette</button>
                <button class="export-btn" id="exportBtn">Export Palette</button>
            </div>
            <div class="palette-display" id="paletteDisplay"></div>
        </div>
    </div>

    <script>
        // DOM elements
        const colorPicker = document.getElementById('colorPicker');
        const colorDisplay = document.getElementById('colorDisplay');
        const hexValue = document.getElementById('hexValue');
        const rgbValue = document.getElementById('rgbValue');
        const hslValue = document.getElementById('hslValue');
        const paletteType = document.getElementById('paletteType');
        const generateBtn = document.getElementById('generateBtn');
        const exportBtn = document.getElementById('exportBtn');
        const paletteDisplay = document.getElementById('paletteDisplay');

        let currentColor = { h: 0, s: 100, l: 50 };
        let currentPalette = [];

        // Color picker event
        colorPicker.addEventListener('input', updateColor);

        // Generate palette
        generateBtn.addEventListener('click', generatePalette);

        // Export palette
        exportBtn.addEventListener('click', exportPalette);

        // Initial update
        updateColor();

        function updateColor() {
            const hex = colorPicker.value;
            const rgb = hexToRgb(hex);
            const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);

            currentColor = hsl;

            colorDisplay.style.backgroundColor = hex;
            colorDisplay.textContent = hex.toUpperCase();

            hexValue.value = hex.toUpperCase();
            rgbValue.value = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
            hslValue.value = `hsl(${Math.round(hsl.h)}, ${Math.round(hsl.s)}%, ${Math.round(hsl.l)}%)`;
        }

        function generatePalette() {
            const type = paletteType.value;
            currentPalette = [];

            switch (type) {
                case 'complementary':
                    currentPalette = [
                        currentColor,
                        { h: (currentColor.h + 180) % 360, s: currentColor.s, l: currentColor.l }
                    ];
                    break;
                case 'analogous':
                    currentPalette = [
                        { h: (currentColor.h - 30 + 360) % 360, s: currentColor.s, l: currentColor.l },
                        currentColor,
                        { h: (currentColor.h + 30) % 360, s: currentColor.s, l: currentColor.l }
                    ];
                    break;
                case 'triadic':
                    currentPalette = [
                        currentColor,
                        { h: (currentColor.h + 120) % 360, s: currentColor.s, l: currentColor.l },
                        { h: (currentColor.h + 240) % 360, s: currentColor.s, l: currentColor.l }
                    ];
                    break;
                case 'tetradic':
                    currentPalette = [
                        currentColor,
                        { h: (currentColor.h + 90) % 360, s: currentColor.s, l: currentColor.l },
                        { h: (currentColor.h + 180) % 360, s: currentColor.s, l: currentColor.l },
                        { h: (currentColor.h + 270) % 360, s: currentColor.s, l: currentColor.l }
                    ];
                    break;
                case 'monochromatic':
                    currentPalette = [
                        { h: currentColor.h, s: currentColor.s, l: Math.max(0, currentColor.l - 30) },
                        { h: currentColor.h, s: currentColor.s, l: Math.max(0, currentColor.l - 15) },
                        currentColor,
                        { h: currentColor.h, s: currentColor.s, l: Math.min(100, currentColor.l + 15) },
                        { h: currentColor.h, s: currentColor.s, l: Math.min(100, currentColor.l + 30) }
                    ];
                    break;
            }

            displayPalette();
        }

        function displayPalette() {
            paletteDisplay.innerHTML = '';

            currentPalette.forEach((color, index) => {
                const hex = hslToHex(color.h, color.s, color.l);
                const swatch = document.createElement('div');
                swatch.className = 'color-swatch';
                swatch.style.backgroundColor = hex;
                swatch.innerHTML = `
                    <div class="swatch-hex">${hex.toUpperCase()}</div>
                    <div class="swatch-name">Color ${index + 1}</div>
                `;
                swatch.addEventListener('click', () => copyToClipboard(hex));
                paletteDisplay.appendChild(swatch);
            });
        }

        function exportPalette() {
            const paletteData = currentPalette.map(color => ({
                hex: hslToHex(color.h, color.s, color.l),
                rgb: hslToRgb(color.h, color.s, color.l),
                hsl: color
            }));

            const json = JSON.stringify(paletteData, null, 2);
            copyToClipboard(json);
            alert('Palette copied to clipboard as JSON!');
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                // Could add a toast notification here
            });
        }

        // Utility functions
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;

            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }

            return { h: h * 360, s: s * 100, l: l * 100 };
        }

        function hslToRgb(h, s, l) {
            h /= 360;
            s /= 100;
            l /= 100;

            const hue2rgb = (p, q, t) => {
                if (t < 0) t += 1;
                if (t > 1) t -= 1;
                if (t < 1/6) return p + (q - p) * 6 * t;
                if (t < 1/2) return q;
                if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                return p;
            };

            let r, g, b;

            if (s === 0) {
                r = g = b = l;
            } else {
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }

            return {
                r: Math.round(r * 255),
                g: Math.round(g * 255),
                b: Math.round(b * 255)
            };
        }

        function hslToHex(h, s, l) {
            const rgb = hslToRgb(h, s, l);
            return `#${rgb.r.toString(16).padStart(2, '0')}${rgb.g.toString(16).padStart(2, '0')}${rgb.b.toString(16).padStart(2, '0')}`;
        }
    </script>
</body>
</html>
