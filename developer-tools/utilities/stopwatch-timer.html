<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stopwatch & Timer</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .tool-selector {
            display: flex;
            margin-bottom: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
        }
        .tool-btn {
            flex: 1;
            background: none;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s ease;
        }
        .tool-btn.active {
            background: #dc143c;
            color: white;
        }
        .tool-content {
            display: none;
        }
        .tool-content.active {
            display: block;
        }
        .display {
            background: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 48px;
            font-weight: bold;
            color: #333;
            min-height: 80px;
        }
        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }
        button {
            background: #dc143c;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        button:hover {
            background: #b22222;
            transform: scale(1.05);
        }
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .start {
            background: #28a745;
        }
        .start:hover {
            background: #218838;
        }
        .stop {
            background: #dc3545;
        }
        .stop:hover {
            background: #c82333;
        }
        .reset {
            background: #6c757d;
        }
        .reset:hover {
            background: #5a6268;
        }
        .timer-inputs {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .timer-inputs input {
            width: 80px;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            text-align: center;
        }
        .timer-inputs input:focus {
            outline: none;
            border-color: #dc143c;
        }
        .timer-inputs label {
            font-weight: 600;
            color: #555;
        }
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            .display {
                font-size: 36px;
                padding: 20px;
            }
            .controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Stopwatch & Timer</h1>

        <div class="tool-selector">
            <button class="tool-btn active" onclick="switchTool('stopwatch')">Stopwatch</button>
            <button class="tool-btn" onclick="switchTool('timer')">Timer</button>
        </div>

        <div id="stopwatch" class="tool-content active">
            <div class="display" id="stopwatchDisplay">00:00:00.00</div>
            <div class="controls">
                <button class="start" id="startStopwatch">Start</button>
                <button class="stop" id="stopStopwatch" disabled>Stop</button>
                <button class="reset" id="resetStopwatch">Reset</button>
            </div>
        </div>

        <div id="timer" class="tool-content">
            <div class="timer-inputs">
                <label for="minutes">Minutes:</label>
                <input type="number" id="minutes" min="0" max="59" value="0">
                <label for="seconds">Seconds:</label>
                <input type="number" id="seconds" min="0" max="59" value="0">
            </div>
            <div class="display" id="timerDisplay">00:00</div>
            <div class="controls">
                <button class="start" id="startTimer">Start</button>
                <button class="stop" id="stopTimer" disabled>Stop</button>
                <button class="reset" id="resetTimer">Reset</button>
            </div>
        </div>
    </div>

    <script>
        // Stopwatch variables
        let stopwatchInterval;
        let stopwatchTime = 0;
        let stopwatchRunning = false;

        // Timer variables
        let timerInterval;
        let timerTime = 0;
        let timerRunning = false;

        // DOM elements
        const stopwatchDisplay = document.getElementById('stopwatchDisplay');
        const timerDisplay = document.getElementById('timerDisplay');
        const startStopwatchBtn = document.getElementById('startStopwatch');
        const stopStopwatchBtn = document.getElementById('stopStopwatch');
        const resetStopwatchBtn = document.getElementById('resetStopwatch');
        const startTimerBtn = document.getElementById('startTimer');
        const stopTimerBtn = document.getElementById('stopTimer');
        const resetTimerBtn = document.getElementById('resetTimer');
        const minutesInput = document.getElementById('minutes');
        const secondsInput = document.getElementById('seconds');

        // Event listeners
        startStopwatchBtn.addEventListener('click', startStopwatch);
        stopStopwatchBtn.addEventListener('click', stopStopwatch);
        resetStopwatchBtn.addEventListener('click', resetStopwatch);
        startTimerBtn.addEventListener('click', startTimer);
        stopTimerBtn.addEventListener('click', stopTimer);
        resetTimerBtn.addEventListener('click', resetTimer);

        function switchTool(tool) {
            document.querySelectorAll('.tool-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tool-content').forEach(content => content.classList.remove('active'));
            document.querySelector(`[onclick="switchTool('${tool}')"]`).classList.add('active');
            document.getElementById(tool).classList.add('active');
        }

        function startStopwatch() {
            if (!stopwatchRunning) {
                stopwatchRunning = true;
                stopwatchInterval = setInterval(updateStopwatch, 10);
                startStopwatchBtn.disabled = true;
                stopStopwatchBtn.disabled = false;
            }
        }

        function stopStopwatch() {
            if (stopwatchRunning) {
                stopwatchRunning = false;
                clearInterval(stopwatchInterval);
                startStopwatchBtn.disabled = false;
                stopStopwatchBtn.disabled = true;
            }
        }

        function resetStopwatch() {
            stopStopwatch();
            stopwatchTime = 0;
            updateStopwatchDisplay();
            startStopwatchBtn.disabled = false;
            stopStopwatchBtn.disabled = true;
        }

        function updateStopwatch() {
            stopwatchTime += 10;
            updateStopwatchDisplay();
        }

        function updateStopwatchDisplay() {
            const milliseconds = Math.floor((stopwatchTime % 1000) / 10);
            const seconds = Math.floor((stopwatchTime / 1000) % 60);
            const minutes = Math.floor((stopwatchTime / (1000 * 60)) % 60);
            const hours = Math.floor(stopwatchTime / (1000 * 60 * 60));
            stopwatchDisplay.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(2, '0')}`;
        }

        function startTimer() {
            const minutes = parseInt(minutesInput.value) || 0;
            const seconds = parseInt(secondsInput.value) || 0;
            timerTime = (minutes * 60 + seconds) * 1000;

            if (timerTime <= 0) {
                alert('Please set a valid time.');
                return;
            }

            if (!timerRunning) {
                timerRunning = true;
                timerInterval = setInterval(updateTimer, 1000);
                startTimerBtn.disabled = true;
                stopTimerBtn.disabled = false;
            }
        }

        function stopTimer() {
            if (timerRunning) {
                timerRunning = false;
                clearInterval(timerInterval);
                startTimerBtn.disabled = false;
                stopTimerBtn.disabled = true;
            }
        }

        function resetTimer() {
            stopTimer();
            timerTime = 0;
            updateTimerDisplay();
            startTimerBtn.disabled = false;
            stopTimerBtn.disabled = true;
        }

        function updateTimer() {
            timerTime -= 1000;
            updateTimerDisplay();

            if (timerTime <= 0) {
                timerTime = 0;
                stopTimer();
                alert('Time\'s up!');
            }
        }

        function updateTimerDisplay() {
            const seconds = Math.floor((timerTime / 1000) % 60);
            const minutes = Math.floor(timerTime / (1000 * 60));
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Initialize displays
        updateStopwatchDisplay();
        updateTimerDisplay();
    </script>
</body>
</html>