<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette Generator</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .palette-container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        label {
            font-weight: 600;
            color: #555;
        }
        input[type="color"] {
            width: 60px;
            height: 60px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
        }
        select {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        .palette-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .color-swatch {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.2s ease;
        }
        .color-swatch:hover {
            transform: translateY(-5px);
        }
        .color-display {
            width: 100%;
            height: 100px;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        .color-info {
            font-size: 14px;
            color: #333;
            margin-bottom: 10px;
        }
        .color-hex {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .copy-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s ease;
        }
        .copy-btn:hover {
            background: #218838;
        }
        .export-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
        }
        .export-btn {
            background: #dc143c;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s ease;
        }
        .export-btn:hover {
            background: #b22222;
            transform: scale(1.05);
        }
        .status {
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            display: none;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        @media (max-width: 768px) {
            .palette-container {
                padding: 20px;
            }
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            .palette-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="palette-container">
        <h1>Color Palette Generator</h1>

        <div class="controls">
            <div class="control-group">
                <label for="baseColor">Base Color:</label>
                <input type="color" id="baseColor" value="#3b82f6">
            </div>
            <div class="control-group">
                <label for="scheme">Color Scheme:</label>
                <select id="scheme">
                    <option value="complementary">Complementary</option>
                    <option value="triadic">Triadic</option>
                    <option value="analogous">Analogous</option>
                    <option value="monochromatic">Monochromatic</option>
                    <option value="split-complementary">Split Complementary</option>
                    <option value="tetradic">Tetradic</option>
                </select>
            </div>
        </div>

        <div class="status" id="status"></div>

        <div class="palette-grid" id="paletteGrid">
            <!-- Color swatches will be generated here -->
        </div>

        <div class="export-section">
            <h3>Export Palette</h3>
            <button class="export-btn" onclick="exportPalette('css')">Export as CSS</button>
            <button class="export-btn" onclick="exportPalette('json')">Export as JSON</button>
            <button class="export-btn" onclick="exportPalette('scss')">Export as SCSS</button>
        </div>
    </div>

    <script>
        const baseColorInput = document.getElementById('baseColor');
        const schemeSelect = document.getElementById('scheme');
        const paletteGrid = document.getElementById('paletteGrid');
        const statusDiv = document.getElementById('status');

        let currentPalette = [];

        // Event listeners
        baseColorInput.addEventListener('input', generatePalette);
        schemeSelect.addEventListener('change', generatePalette);

        // Initialize
        generatePalette();

        function generatePalette() {
            const baseColor = baseColorInput.value;
            const scheme = schemeSelect.value;

            const baseHSL = hexToHSL(baseColor);
            currentPalette = generateColorScheme(baseHSL, scheme);

            renderPalette();
        }

        function generateColorScheme(baseHSL, scheme) {
            const [h, s, l] = baseHSL;

            switch (scheme) {
                case 'complementary':
                    return [
                        hslToHex([h, s, l]),
                        hslToHex([(h + 180) % 360, s, l]),
                        hslToHex([(h + 180) % 360, Math.max(s - 20, 10), Math.min(l + 10, 90)]),
                        hslToHex([(h + 180) % 360, Math.max(s - 40, 10), Math.min(l + 20, 90)]),
                        hslToHex([h, Math.max(s - 20, 10), Math.min(l + 10, 90)])
                    ];
                case 'triadic':
                    return [
                        hslToHex([h, s, l]),
                        hslToHex([(h + 120) % 360, s, l]),
                        hslToHex([(h + 240) % 360, s, l]),
                        hslToHex([(h + 120) % 360, Math.max(s - 20, 10), Math.min(l + 10, 90)]),
                        hslToHex([(h + 240) % 360, Math.max(s - 20, 10), Math.min(l + 10, 90)])
                    ];
                case 'analogous':
                    return [
                        hslToHex([h, s, l]),
                        hslToHex([(h + 30) % 360, s, l]),
                        hslToHex([(h - 30 + 360) % 360, s, l]),
                        hslToHex([(h + 60) % 360, Math.max(s - 10, 10), Math.min(l + 5, 90)]),
                        hslToHex([(h - 60 + 360) % 360, Math.max(s - 10, 10), Math.min(l + 5, 90)])
                    ];
                case 'monochromatic':
                    return [
                        hslToHex([h, s, l]),
                        hslToHex([h, Math.max(s - 20, 10), Math.min(l + 20, 90)]),
                        hslToHex([h, Math.max(s - 40, 10), Math.min(l + 40, 90)]),
                        hslToHex([h, Math.max(s - 10, 10), Math.min(l - 20, 10)]),
                        hslToHex([h, Math.max(s - 30, 10), Math.min(l - 40, 10)])
                    ];
                case 'split-complementary':
                    return [
                        hslToHex([h, s, l]),
                        hslToHex([(h + 150) % 360, s, l]),
                        hslToHex([(h - 150 + 360) % 360, s, l]),
                        hslToHex([(h + 150) % 360, Math.max(s - 20, 10), Math.min(l + 10, 90)]),
                        hslToHex([(h - 150 + 360) % 360, Math.max(s - 20, 10), Math.min(l + 10, 90)])
                    ];
                case 'tetradic':
                    return [
                        hslToHex([h, s, l]),
                        hslToHex([(h + 90) % 360, s, l]),
                        hslToHex([(h + 180) % 360, s, l]),
                        hslToHex([(h + 270) % 360, s, l]),
                        hslToHex([(h + 45) % 360, Math.max(s - 10, 10), Math.min(l + 5, 90)])
                    ];
                default:
                    return [hslToHex([h, s, l])];
            }
        }

        function renderPalette() {
            paletteGrid.innerHTML = '';

            currentPalette.forEach((color, index) => {
                const swatch = document.createElement('div');
                swatch.className = 'color-swatch';
                swatch.innerHTML = `
                    <div class="color-display" style="background-color: ${color}"></div>
                    <div class="color-info">Color ${index + 1}</div>
                    <div class="color-hex">${color.toUpperCase()}</div>
                    <button class="copy-btn" onclick="copyColor('${color}')">Copy</button>
                `;
                paletteGrid.appendChild(swatch);
            });
        }

        function hexToHSL(hex) {
            const r = parseInt(hex.slice(1, 3), 16) / 255;
            const g = parseInt(hex.slice(3, 5), 16) / 255;
            const b = parseInt(hex.slice(5, 7), 16) / 255;

            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }

            return [Math.round(h * 360), Math.round(s * 100), Math.round(l * 100)];
        }

        function hslToHex([h, s, l]) {
            h /= 360;
            s /= 100;
            l /= 100;

            const hue2rgb = (p, q, t) => {
                if (t < 0) t += 1;
                if (t > 1) t -= 1;
                if (t < 1/6) return p + (q - p) * 6 * t;
                if (t < 1/2) return q;
                if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                return p;
            };

            let r, g, b;
            if (s === 0) {
                r = g = b = l;
            } else {
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }

            const toHex = c => {
                const hex = Math.round(c * 255).toString(16);
                return hex.length === 1 ? '0' + hex : hex;
            };

            return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
        }

        function copyColor(color) {
            navigator.clipboard.writeText(color).then(() => {
                showStatus(`✓ Copied ${color} to clipboard!`, 'success');
            });
        }

        function exportPalette(format) {
            let content = '';
            let filename = '';

            switch (format) {
                case 'css':
                    content = `:root {\n${currentPalette.map((color, i) => `  --color-${i + 1}: ${color};`).join('\n')}\n}`;
                    filename = 'palette.css';
                    break;
                case 'json':
                    content = JSON.stringify({ palette: currentPalette }, null, 2);
                    filename = 'palette.json';
                    break;
                case 'scss':
                    content = currentPalette.map((color, i) => `$color-${i + 1}: ${color};`).join('\n');
                    filename = 'palette.scss';
                    break;
            }

            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            showStatus(`✓ Exported palette as ${format.toUpperCase()}!`, 'success');
        }

        function showStatus(message, type) {
            statusDiv.textContent = message;
            statusDiv.className = `status ${type}`;
            statusDiv.style.display = 'block';

            setTimeout(() => {
                statusDiv.style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html>