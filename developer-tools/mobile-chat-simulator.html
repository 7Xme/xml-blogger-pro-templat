<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Chat App Simulator</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #6366f1;
            --secondary-color: #8b5cf6;
            --accent-color: #f59e0b;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-color);
            min-height: 100vh;
        }

        /* Mobile Phone Frame */
        .phone-container {
            max-width: 375px;
            margin: 20px auto;
            background: #000;
            border-radius: 30px;
            padding: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            position: relative;
        }

        .phone-notch {
            width: 150px;
            height: 25px;
            background: #000;
            border-radius: 0 0 15px 15px;
            margin: 0 auto 10px;
            position: relative;
        }

        .notch-speaker {
            width: 40px;
            height: 5px;
            background: #333;
            border-radius: 3px;
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
        }

        .phone-screen {
            background: var(--card-bg);
            border-radius: 15px;
            height: 667px;
            position: relative;
            overflow: hidden;
        }

        /* Header */
        .app-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
            z-index: 10;
        }

        .back-btn {
            font-size: 18px;
            cursor: pointer;
            padding: 5px;
        }

        .contact-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .contact-info {
            flex: 1;
        }

        .contact-name {
            font-weight: 600;
            font-size: 16px;
        }

        .contact-status {
            font-size: 12px;
            opacity: 0.8;
        }

        .header-actions {
            display: flex;
            gap: 15px;
            font-size: 16px;
        }

        /* Chat Container */
        .chat-container {
            height: calc(100% - 140px);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* Messages Area */
        .messages-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text fill="%23e2e8f0" font-size="20" y="50%">ðŸ’¬</text></svg>') repeat;
            background-size: 50px 50px;
        }

        .message {
            margin-bottom: 15px;
            animation: messageSlideIn 0.3s ease-out;
        }

        .message.sent {
            display: flex;
            justify-content: flex-end;
        }

        .message.received {
            display: flex;
            justify-content: flex-start;
        }

        .message-bubble {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
            font-size: 14px;
            line-height: 1.4;
        }

        .message.sent .message-bubble {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message.received .message-bubble {
            background: #f1f5f9;
            color: var(--text-primary);
            border-bottom-left-radius: 4px;
        }

        .message-time {
            font-size: 10px;
            opacity: 0.6;
            margin-top: 4px;
            text-align: center;
        }

        .message.sent .message-time {
            text-align: right;
        }

        .message.received .message-time {
            text-align: left;
        }

        /* Typing Indicator */
        .typing-indicator {
            display: none;
            padding: 20px;
            font-style: italic;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .typing-indicator.show {
            display: block;
        }

        /* Message Input */
        .message-input-container {
            background: var(--card-bg);
            border-top: 1px solid var(--border-color);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .message-input {
            flex: 1;
            border: 2px solid var(--border-color);
            border-radius: 25px;
            padding: 12px 20px;
            font-size: 14px;
            outline: none;
            transition: all 0.3s ease;
        }

        .message-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .send-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .send-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
        }

        .send-btn:disabled {
            background: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
        }

        /* Conversations List */
        .conversations-list {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--card-bg);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            z-index: 5;
        }

        .conversations-list.show {
            transform: translateX(0);
        }

        .conversations-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .conversations-title {
            font-weight: 600;
        }

        .close-conversations {
            cursor: pointer;
            font-size: 18px;
        }

        .conversation-item {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: background 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .conversation-item:hover,
        .conversation-item.active {
            background: #f8fafc;
        }

        .conversation-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
            font-size: 18px;
        }

        .conversation-info {
            flex: 1;
        }

        .conversation-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .conversation-last-message {
            font-size: 12px;
            color: var(--text-secondary);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .conversation-time {
            font-size: 10px;
            color: var(--text-secondary);
        }

        .unread-badge {
            background: var(--danger-color);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
        }

        /* Animations */
        @keyframes messageSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes typingDots {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        .typing-dots span {
            display: inline-block;
            animation: typingDots 1.4s infinite ease-in-out both;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        /* Desktop Styles */
        @media (min-width: 768px) {
            .phone-container {
                margin: 40px auto;
            }
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="phone-notch">
            <div class="notch-speaker"></div>
        </div>
        <div class="phone-screen">
            <!-- App Header -->
            <div class="app-header">
                <i class="fas fa-arrow-left back-btn" id="backBtn"></i>
                <div class="contact-avatar" id="currentAvatar">JD</div>
                <div class="contact-info">
                    <div class="contact-name" id="currentName">John Doe</div>
                    <div class="contact-status" id="currentStatus">Online</div>
                </div>
                <div class="header-actions">
                    <i class="fas fa-phone"></i>
                    <i class="fas fa-video"></i>
                    <i class="fas fa-ellipsis-v"></i>
                </div>
            </div>

            <!-- Conversations List -->
            <div class="conversations-list" id="conversationsList">
                <div class="conversations-header">
                    <div class="conversations-title">Chats</div>
                    <i class="fas fa-times close-conversations" id="closeConversations"></i>
                </div>
                <!-- Conversations will be populated by JavaScript -->
            </div>

            <!-- Chat Container -->
            <div class="chat-container" id="chatContainer">
                <!-- Messages Area -->
                <div class="messages-area" id="messagesArea">
                    <div class="typing-indicator" id="typingIndicator">
                        <i class="fas fa-circle typing-dots">
                            <span></span>
                            <span></span>
                            <span></span>
                        </i> John Doe is typing...
                    </div>
                </div>

                <!-- Message Input -->
                <div class="message-input-container">
                    <input type="text" class="message-input" id="messageInput" placeholder="Type a message..." maxlength="500">
                    <button class="send-btn" id="sendBtn" disabled>
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mock data for conversations and messages
        const conversations = [
            {
                id: 1,
                name: "John Doe",
                avatar: "JD",
                status: "Online",
                lastMessage: "Hey! How are you doing?",
                time: "2 min ago",
                unread: 0,
                messages: [
                    { id: 1, text: "Hey! How are you doing?", sender: "received", time: "10:30 AM" },
                    { id: 2, text: "I'm doing great! Just working on some new projects. How about you?", sender: "sent", time: "10:32 AM" },
                    { id: 3, text: "That sounds awesome! I'm good too, just finished a mobile app design.", sender: "received", time: "10:33 AM" },
                    { id: 4, text: "Mobile apps are my passion! What kind of app are you working on?", sender: "sent", time: "10:35 AM" },
                    { id: 5, text: "It's a chat application actually! Very similar to what we're using now ðŸ˜Š", sender: "received", time: "10:36 AM" }
                ]
            },
            {
                id: 2,
                name: "Sarah Wilson",
                avatar: "SW",
                status: "Last seen 5 min ago",
                lastMessage: "Thanks for the help with the code!",
                time: "5 min ago",
                unread: 2,
                messages: [
                    { id: 1, text: "Hi Sarah! Did you get that bug fixed?", sender: "sent", time: "9:15 AM" },
                    { id: 2, text: "Yes! Thanks for the help with the code! You're amazing!", sender: "received", time: "9:20 AM" },
                    { id: 3, text: "No problem at all! Happy to help ðŸ˜Š", sender: "sent", time: "9:22 AM" },
                    { id: 4, text: "By the way, have you seen the new React features?", sender: "received", time: "9:25 AM" }
                ]
            },
            {
                id: 3,
                name: "Mike Johnson",
                avatar: "MJ",
                status: "Typing...",
                lastMessage: "Let's meet tomorrow at 3 PM",
                time: "1 hour ago",
                unread: 1,
                messages: [
                    { id: 1, text: "Hey Mike, are you free tomorrow?", sender: "sent", time: "Yesterday 4:00 PM" },
                    { id: 2, text: "Yes, I should be free. What time were you thinking?", sender: "received", time: "Yesterday 4:05 PM" },
                    { id: 3, text: "How about 3 PM? We can discuss the project details.", sender: "sent", time: "Yesterday 4:10 PM" },
                    { id: 4, text: "Perfect! Let's meet tomorrow at 3 PM", sender: "received", time: "Yesterday 4:12 PM" }
                ]
            },
            {
                id: 4,
                name: "Emily Davis",
                avatar: "ED",
                status: "Online",
                lastMessage: "The design looks great! ðŸ‘",
                time: "2 hours ago",
                unread: 0,
                messages: [
                    { id: 1, text: "Emily, I finished the UI mockups for the new feature.", sender: "sent", time: "Yesterday 2:00 PM" },
                    { id: 2, text: "Let me take a look... The design looks great! ðŸ‘", sender: "received", time: "Yesterday 2:15 PM" },
                    { id: 3, text: "Thanks! I spent a lot of time perfecting the user experience.", sender: "sent", time: "Yesterday 2:20 PM" },
                    { id: 4, text: "It really shows. The attention to detail is impressive!", sender: "received", time: "Yesterday 2:25 PM" }
                ]
            }
        ];

        let currentConversationId = 1;
        let isTyping = false;

        // DOM Elements
        const backBtn = document.getElementById('backBtn');
        const conversationsList = document.getElementById('conversationsList');
        const chatContainer = document.getElementById('chatContainer');
        const closeConversations = document.getElementById('closeConversations');
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const messagesArea = document.getElementById('messagesArea');
        const typingIndicator = document.getElementById('typingIndicator');
        const currentName = document.getElementById('currentName');
        const currentAvatar = document.getElementById('currentAvatar');
        const currentStatus = document.getElementById('currentStatus');

        // Initialize the app
        function initApp() {
            loadConversations();
            loadConversation(currentConversationId);
            setupEventListeners();
        }

        // Load conversations list
        function loadConversations() {
            const conversationsContainer = document.createElement('div');
            conversationsContainer.id = 'conversationsContainer';

            conversations.forEach(conv => {
                const conversationEl = document.createElement('div');
                conversationEl.className = `conversation-item ${conv.id === currentConversationId ? 'active' : ''}`;
                conversationEl.onclick = () => switchConversation(conv.id);

                conversationEl.innerHTML = `
                    <div class="conversation-avatar">${conv.avatar}</div>
                    <div class="conversation-info">
                        <div class="conversation-name">${conv.name}</div>
                        <div class="conversation-last-message">${conv.lastMessage}</div>
                    </div>
                    <div class="conversation-meta">
                        <div class="conversation-time">${conv.time}</div>
                        ${conv.unread > 0 ? `<div class="unread-badge">${conv.unread}</div>` : ''}
                    </div>
                `;

                conversationsContainer.appendChild(conversationEl);
            });

            conversationsList.appendChild(conversationsContainer);
        }

        // Load conversation messages
        function loadConversation(conversationId) {
            const conversation = conversations.find(c => c.id === conversationId);
            if (!conversation) return;

            // Update header
            currentName.textContent = conversation.name;
            currentAvatar.textContent = conversation.avatar;
            currentStatus.textContent = conversation.status;

            // Clear messages
            messagesArea.innerHTML = '';

            // Load messages
            conversation.messages.forEach(message => {
                addMessageToUI(message);
            });

            // Scroll to bottom
            scrollToBottom();

            // Simulate typing indicator occasionally
            if (Math.random() > 0.7) {
                showTypingIndicator();
            }
        }

        // Add message to UI
        function addMessageToUI(message) {
            const messageEl = document.createElement('div');
            messageEl.className = `message ${message.sender}`;

            messageEl.innerHTML = `
                <div class="message-bubble">${message.text}</div>
                <div class="message-time">${message.time}</div>
            `;

            messagesArea.appendChild(messageEl);
        }

        // Send message
        function sendMessage() {
            const text = messageInput.value.trim();
            if (!text) return;

            const message = {
                id: Date.now(),
                text: text,
                sender: 'sent',
                time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })
            };

            // Add to current conversation
            const conversation = conversations.find(c => c.id === currentConversationId);
            conversation.messages.push(message);
            conversation.lastMessage = text;
            conversation.time = 'now';

            // Add to UI
            addMessageToUI(message);
            scrollToBottom();

            // Clear input
            messageInput.value = '';

            // Simulate reply after a delay
            setTimeout(() => {
                simulateReply();
            }, 1000 + Math.random() * 2000);
        }

        // Simulate reply from other user
        function simulateReply() {
            const replies = [
                "That sounds interesting! Tell me more.",
                "I completely agree with you.",
                "Thanks for sharing that information.",
                "That's a great point!",
                "I hadn't thought of it that way.",
                "Absolutely! Let's discuss this further.",
                "I'm glad you brought that up.",
                "That's really helpful, thank you!",
                "I see what you mean now.",
                "Great idea! How can we implement this?"
            ];

            const randomReply = replies[Math.floor(Math.random() * replies.length)];

            const message = {
                id: Date.now(),
                text: randomReply,
                sender: 'received',
                time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })
            };

            // Add to current conversation
            const conversation = conversations.find(c => c.id === currentConversationId);
            conversation.messages.push(message);
            conversation.lastMessage = randomReply;
            conversation.time = 'now';

            // Show typing indicator first
            showTypingIndicator();

            // Add message after typing delay
            setTimeout(() => {
                hideTypingIndicator();
                addMessageToUI(message);
                scrollToBottom();
            }, 2000);
        }

        // Show typing indicator
        function showTypingIndicator() {
            typingIndicator.classList.add('show');
            scrollToBottom();
        }

        // Hide typing indicator
        function hideTypingIndicator() {
            typingIndicator.classList.remove('show');
        }

        // Switch conversation
        function switchConversation(conversationId) {
            currentConversationId = conversationId;

            // Update active conversation
            document.querySelectorAll('.conversation-item').forEach(item => {
                item.classList.remove('active');
            });
            event.currentTarget.classList.add('active');

            // Hide conversations list
            conversationsList.classList.remove('show');

            // Load new conversation
            loadConversation(conversationId);
        }

        // Scroll to bottom of messages
        function scrollToBottom() {
            messagesArea.scrollTop = messagesArea.scrollHeight;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Back button
            backBtn.onclick = () => {
                conversationsList.classList.add('show');
            };

            // Close conversations
            closeConversations.onclick = () => {
                conversationsList.classList.remove('show');
            };

            // Message input
            messageInput.oninput = () => {
                sendBtn.disabled = messageInput.value.trim().length === 0;
            };

            messageInput.onkeypress = (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            };

            // Send button
            sendBtn.onclick = sendMessage;
        }

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>